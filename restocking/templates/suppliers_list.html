{% extends "base.html" %}
{% block content %}

<h3>Suppliers</h3>
<form method="get" class="row" style="margin-bottom: 16px;">
  <input name="q" value="{{ q or '' }}" placeholder="Search existing suppliers" />
  <button class="btn">Search</button>
</form>
<div class="grid" style="gap: 18px;">
  {% for s in suppliers %}
  <div class="card" style="padding: 16px;">
    <div class="row" style="justify-content: space-between; align-items: center;">
      <div>
        <div><strong>{{ s.name }}</strong> â€” {{ s.category or 'Uncategorized' }}</div>
        {% if s.phone %}<div style="color: var(--muted); font-size: 13px;">ðŸ“ž {{ s.phone }}</div>{% endif %}
      </div>
      <div class="row" style="gap: 6px; flex-wrap:nowrap;">
        <a href="/suppliers/{{ s.id }}/items" class="supplier-action-btn order-btn">ðŸ›’ Order</a>
        <a href="/suppliers/{{ s.id }}/edit" class="supplier-action-btn edit-btn">Edit</a>
        <form method="post" action="/suppliers/{{ s.id }}/delete" style="display:inline;">
          <button type="submit" class="supplier-action-btn delete-btn" onclick="return confirm('Delete this supplier?')">Delete</button>
        </form>
      </div>
    </div>
  </div>
  {% else %}
  <div class="empty card">No suppliers yet.
    <p> Select Add Supplier from the Menu to add new suppliers.</p>
  </div>
  {% endfor %}
</div>

{% endblock %}