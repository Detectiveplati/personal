{% extends "base.html" %}
{% block content %}
{% set back_url = url_for('supplier_items', supplier_id=supplier.id) %}
<div class="card" style="max-width:400px; margin:auto; padding:18px;">
  <h3 style="margin-top:0;">
    {% if item %}Edit Item{% else %}Add Item{% endif %}
  </h3>
  <form method="post" class="grid" style="gap: 12px;">
    <label class="form-label">
      <span>Item Name</span>
      <input name="name" required class="input-wide" placeholder="e.g. Tomatoes"
        value="{{ item.name if item else '' }}">
    </label>
    <label class="form-label">
      <span>Unit</span>
      <input name="unit" required class="input-wide" placeholder="e.g. kg, box" value="{{ item.unit if item else '' }}">
    </label>
    <label class="form-label">
      <span>Default Quantity</span>
      <input name="default_qty" type="number" step="0.01" min="0" required class="input-wide" placeholder="e.g. 1.00"
        value="{{ item.default_qty if item else '' }}">
    </label>
    <label class="form-label">
      <span>Type</span>
      <input name="item_type" class="input-wide" placeholder="e.g. Vegetable, Dairy"
        value="{{ item.item_type if item else '' }}">
    </label>
    <button type="submit" class="btn primary" style="font-size:1rem;">{% if item %}Save{% else %}Add Item{% endif %}</button>
    <div class="row" style="justify-content:flex-end; gap:8px; margin-top:12px;">
      <a href="{{ back_url }}" class="btn" style="font-size:1rem;">‚Üê Back</a>
      {% if item %}
      <form method="post" action="{{ url_for('item_delete', item_id=item.id) }}" style="display:inline;">
        <button type="submit" class="btn btn-delete" style="font-size:1rem;" onclick="return confirm('Delete this item?')">Delete</button>
      </form>
      {% endif %}
    </div>
  </form>
</div>
{% endblock %}